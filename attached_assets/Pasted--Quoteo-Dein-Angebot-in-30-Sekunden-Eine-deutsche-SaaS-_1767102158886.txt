# Quoteo ‚Äì Dein Angebot in 30 Sekunden

Eine deutsche SaaS-Webanwendung, die Freelancern und kleinen Unternehmen hilft, professionelle Angebote in Sekunden zu erstellen ‚Äì ohne Excel oder Word.

## üéØ √úber Quoteo

Quoteo ist eine vollst√§ndig deutschsprachige Anwendung zur schnellen und professionellen Angebotserstellung. Die Anwendung erm√∂glicht:
- Verwaltung von Kundendaten
- **Artikel-Katalog mit Verkaufsstatistiken** (NEU)
- Definition von Preisregeln und Textvorlagen
- Erstellung detaillierter Angebote mit Positionsverwaltung
- **Artikel direkt aus Katalog in Angebote einf√ºgen** (NEU)
- Automatische Berechnung von MwSt. und Gesamtbetr√§gen
- **PDF-Generierung** mit professionellem Layout und deutscher Formatierung
- Status-Tracking von Angeboten (Entwurf, Gesendet, Angenommen, Abgelehnt)
- **Dashboard mit Statistiken** und Umsatz√ºbersicht
- **Stripe-basierte Abonnementverwaltung** mit Echtzeit-Zahlungsabwicklung
- Persistente Datenspeicherung in PostgreSQL-Datenbank

## üöÄ Funktionen

### ‚úÖ Implementiert (Aktueller Stand)

#### Authentifizierung & Onboarding
- **Benutzerregistrierung**: E-Mail/Passwort-basierte Registrierung
- **Session-basierte Authentifizierung**: Sichere Anmeldung mit HTTP-Only Cookies
- **Onboarding-Prozess**: Einrichtung des Unternehmensprofils mit Firmendaten
- **Multi-Tenancy**: Jeder Benutzer hat sein eigenes Unternehmenskonto

#### Kundenverwaltung
- CRUD-Operationen f√ºr Kundeninformationen
- Firmenname, Kontaktperson, E-Mail, Adresse
- Deutsche Adressfelder (PLZ, Stadt, Land)
- √úbersichtliche Listendarstellung

#### Artikelverwaltung (Catalog Management) üì¶ ‚ú® (NEU)
- **Artikel-Katalog**: Umfassende Verwaltung von Verkaufs- und Einkaufsartikeln
  - Artikelnummer, Beschreibung, Artikelart (Verkauf/Einkauf/Beides)
  - Netto- und Bruttopreise mit automatischer MwSt.-Berechnung
  - Einheit (Stunde, St√ºck, Meter, etc.)
  - Interne Anmerkungen f√ºr zus√§tzliche Informationen
- **Lieferantenverwaltung**: Lieferantendaten erfassen und zuordnen
  - Kontaktinformationen, E-Mail, Telefon, Website
  - Notizen f√ºr Lieferantendetails
- **Kategorisierung**: Artikel in Kategorien organisieren
  - Flexible Kategoriezuordnung
  - Bessere √úbersicht und Strukturierung
- **Verkaufsstatistiken**: Automatisches Tracking bei Angebots-Annahme
  - Anzahl verkauft (Jahr/Gesamt)
  - Nettoumsatz gesamt
  - Rohertrag gesamt
  - Intelligente Jahreswechsel-Erkennung mit `lastSoldYear` Feld
- **Quote-Editor Integration**: Artikel direkt in Angebote einf√ºgen
  - "Aus Artikelverwaltung" Button im Angebots-Editor
  - Durchsuchbarer Artikel-Picker Dialog
  - Automatisches Mapping: Preis, Beschreibung, Einheit
  - ArticleId-Tracking f√ºr Statistik-Updates
- **Plan-basierte Limits**:
  - Free Plan: Kein Zugriff auf Artikelverwaltung
  - Pro Plan: Bis zu 25 Artikel
  - Business Plan: Unbegrenzte Artikel
- **Suche & Filter**: Nach Artikelnummer, Beschreibung oder Artikelart filtern

#### Angebotserstellung & Verwaltung
- **Interaktiver Editor** mit Echtzeit-Vorschau
- Automatische Angebotsnummerierung (ANG-YYYY-XXXX Format)
- Positionsverwaltung mit:
  - Beschreibung, Menge, Einheit, Einzelpreis
  - Automatische Berechnung der Positionssummen
  - **Artikel aus Katalog hinzuf√ºgen** (NEU)
- **Automatische Berechnungen**:
  - Zwischensumme
  - MwSt. (konfigurierbar, Standard 19%)
  - Gesamtsumme mit deutscher Formatierung (1.190,00 ‚Ç¨)
- **Status-Tracking**: Entwurf, Gesendet, Angenommen, Abgelehnt
- G√ºltigkeitsdatum und Notizen
- Speichern und Bearbeiten von Angeboten
- **Angebots-Duplikation**: Bestehende Angebote als Vorlage nutzen
  - Kopiert alle Positionen automatisch
  - Neue Angebotsnummer wird generiert
  - Status wird auf "Entwurf" gesetzt
- **Angebots-L√∂schung**: Mit Best√§tigungsdialog und GoBD-Hinweis
  - Warnung bez√ºglich Grunds√§tze ordnungsm√§√üiger Buchf√ºhrung
  - Hinweis auf steuerrechtliche Aufbewahrungspflichten
- **Erweiterte Filterung**:
  - Nach Status (Entwurf, Gesendet, Angenommen, Abgelehnt)
  - Nach Kunde
  - Nach Datumsbereich (Von/Bis)
  - Kombinierbare Filter
- **CSV-Export**: Export aller Angebote als CSV-Datei
  - Inklusive Kundendaten
  - Alle Betr√§ge und Status-Informationen

#### PDF-Generierung ‚ú®
- **Professionelle PDF-Erstellung** mit pdf-lib
- **Multi-Page Support**: Automatischer Seitenumbruch bei vielen Positionen
- **Text-Wrapping**: Automatische Zeilenumbr√ºche f√ºr lange Beschreibungen
- **Deutsche Formatierung**:
  - W√§hrung: 1.190,00 ‚Ç¨ (Punkt als Tausendertrennzeichen, Komma als Dezimaltrennzeichen)
  - Datum: TT.MM.JJJJ Format
- **Vollst√§ndige Unternehmensdaten**: Firmenname, Adresse, Steuernummer
- **Kundendaten**: Empf√§ngeradresse formatiert
- **Detaillierte Positionstabelle** mit allen Berechnungen
- **Download-Funktion**: Direkt aus der Angebotsliste und dem Editor

#### Dashboard & Analytics üìä
- **Statistik-Karten**:
  - Gesamtanzahl Angebote (mit "diesen Monat" Statistik)
  - Anzahl Kunden
  - Gesamtumsatz (alle Angebote)
  - Akzeptierter Umsatz (nur angenommene Angebote)
  - Durchschnittlicher Angebotswert
  - Erfolgsquote in Prozent
- **Chart-Visualisierung**: Angebote der letzten 6 Monate (mit Recharts)
- **Letzte Angebote**: Quick-Access zu den neuesten 5 Angeboten
- **Echtzeit-Updates**: Statistiken aktualisieren sich automatisch nach √Ñnderungen
- **Deutsche Formatierung**: Alle W√§hrungswerte mit korrekter Lokalisierung

#### Preisregeln & Vorlagen
- **Preisregeln**: Wiederverwendbare Preisvorlagen
  - Stundensatz
  - Pauschale
  - Materialkosten
- **Textvorlagen**: Speichern h√§ufig verwendeter Textbausteine
- Kategorisierung f√ºr bessere Organisation

#### Einstellungen & Profilverwaltung
- Verwaltung des Unternehmensprofils
- Aktualisierung der Firmendaten
- MwSt.-Satz-Konfiguration
- **Logo-Upload**: Firmenlogo hochladen und auf PDFs anzeigen
  - Base64-Speicherung in Datenbank
  - Automatische Einbindung in PDF-Header (oben rechts)
  - Vorschau-Funktion
  - L√∂schen-Funktion

#### Design & UX
- **Dark/Light Mode**: Vollst√§ndige Theme-Unterst√ºtzung mit Theme-Toggle
- **Responsive Design**: Optimiert f√ºr Desktop, Tablet und Mobile
- **Sidebar-Navigation**: √úbersichtliche Navigation mit Shadcn UI Sidebar
- **Moderne Komponenten**: Konsistente UI mit Shadcn UI
- **Interaktive Elemente**: Hover-States, Loading-States, Toast-Benachrichtigungen

#### E-Mail & Kommunikation ‚úâÔ∏è
- **E-Mail-Versand**: Angebote direkt per E-Mail versenden mit Resend API
- **E-Mail-Vorlagen**: Wiederverwendbare Vorlagen mit Variablen-Ersetzung
  - Unterst√ºtzte Variablen: `{{customerName}}`, `{{quoteNumber}}`, `{{companyName}}`, `{{customerEmail}}`, `{{contactName}}`, `{{total}}`, `{{validUntil}}`, `{{publicUrl}}`
  - Kategorisierung (Angebot, Rechnung, Allgemein)
- **Automatischer PDF-Anhang**: PDF wird bei E-Mail-Versand automatisch generiert und angeh√§ngt
- **√ñffentliche Links**: Automatische Generierung von √∂ffentlichen Angebotslinks beim E-Mail-Versand
- **Versandprotokoll**: Vollst√§ndiges Tracking mit Status (Gesendet/Fehler) und Zeitstempel
- **E-Mail-Logs-Komponente**: Anzeige aller versendeten E-Mails
- **Fehlerbehandlung**: Graceful Degradation bei fehlenden API-Credentials

#### Online-Angebotsgenehmigung üñäÔ∏è ‚ú® (NEU)
- **√ñffentliche Angebotsansicht**: Kunden k√∂nnen Angebote ohne Login ansehen
  - Firmenbranding und vollst√§ndige Angebotsdetails
  - Responsive Design f√ºr alle Ger√§te
  - Deutschsprachige Benutzeroberfl√§che
- **Digitale Signatur**: HTML5 Canvas-basierte Signaturerfassung
  - Touch- und Maus-Unterst√ºtzung
  - Echtzeit-Vorschau der Signatur
- **Optionale Positionen**: Kunden k√∂nnen optionale Angebotspositionen aus-/abw√§hlen
  - Live-Preisberechnung bei √Ñnderungen
  - Flexibilit√§t f√ºr individuelle Anforderungen
- **Signierte PDFs**: Automatische Generierung von PDFs mit digitaler Signatur
  - Signatur-Bild eingebettet
  - Akzeptanzdetails (Name, Firma, Zeitstempel)
  - Nur ausgew√§hlte Positionen im signierten PDF
- **Sicherer Zugriff**: 
  - Eindeutige √∂ffentliche Links per nanoid
  - Einmalige Annahme (Link wird nach Akzeptanz ung√ºltig)
  - Datenschutz: Nur √∂ffentlich-sichere Daten werden exponiert
- **Dashboard-Integration**:
  - Akzeptanzstatus-Anzeige mit Signatur
  - Download-Button f√ºr signierte PDFs
  - Public Link Management (erstellen, kopieren, √∂ffnen)

#### Stripe-Integration üí≥ ‚ú® (NEU)
- **Embedded Checkout**: Stripe Payment Elements direkt in der App integriert
  - Custom-Styling passend zum App-Design
  - Echtzeit-Zahlungsvalidierung
  - 3D Secure-Unterst√ºtzung
- **Abonnementverwaltung**: Vollst√§ndiger Lebenszyklus
  - Plan-Auswahl auf `/pricing` Seite
  - Sofortige Aktivierung nach erfolgreicher Zahlung
  - Upgrade/Downgrade zwischen Pl√§nen
  - K√ºndigung mit "Abo fortsetzen" Option
  - Reaktivierung vor Periodenende
- **Rechnungsverwaltung**:
  - Alle Stripe-Rechnungen in `/billing` Seite
  - PDF-Download f√ºr jede Rechnung
  - Detaillierte Rechnungsinformationen (Nummer, Datum, Betrag, Status)
- **Zahlungsabwicklung**:
  - Sichere Zahlungsverarbeitung mit Stripe
  - Test-Karten f√ºr Entwicklung (4242 4242 4242 4242)
  - Umfassende Fehlerbehandlung
  - Benutzerfreundliche Fehlermeldungen
- **Datenbankintegration**:
  - Automatische Synchronisation zwischen Stripe und Datenbank
  - Subscription-Tracking in PostgreSQL
  - Customer-ID-Verwaltung
  - Plan-Status in Echtzeit

#### Enterprise Features üè¢ (Business Plan)
- **Team Management**: Multi-User-Kollaboration mit rollenbasierter Zugriffskontrolle
  - **Rollen**: Admin (voller Zugriff), Editor (erstellen/bearbeiten), Viewer (nur lesen)
  - **Team-Einladungen**: E-Mail-basierte Einladungen mit Status-Tracking
  - **Automatische Admin-Zuweisung**: Tenant-Besitzer wird automatisch als Admin hinzugef√ºgt
  - **RBAC-Middleware**: Berechtigungsdurchsetzung auf Backend-Ebene
- **Audit Log System**: Umfassende √Ñnderungsverfolgung f√ºr Compliance
  - **Vollst√§ndiges Tracking**: Alle Entity-√Ñnderungen (Erstellen, Aktualisieren, L√∂schen)
  - **Detaillierte Informationen**: Benutzer, Zeitstempel, IP-Adresse, √Ñnderungsdetails
  - **Filterbare Logs**: Nach Aktionstyp, Datum und Entity-Typ
  - **Integriert in Quote-Details**: √Ñnderungshistorie direkt bei Angeboten sichtbar
- **REST API v1**: Programmatischer Zugriff f√ºr Business-Kunden
  - **API Key Authentication**: Sichere bcrypt-Hash-Speicherung mit Bearer-Token
  - **√ñffentliche Endpunkte**: GET/POST f√ºr Quotes und Clients
  - **Nutzungsverfolgung**: Usage Count und Last Used Timestamp
  - **API-Keys-Manager**: UI f√ºr Erstellung und Verwaltung von API-Keys
  - **Vollst√§ndige Dokumentation**: Siehe `API_DOCUMENTATION.md`

#### Technische Features
- **PostgreSQL-Datenbank**: Persistente Datenspeicherung mit Neon Serverless
- **Type-Safe**: Vollst√§ndige TypeScript-Implementierung
- **Validierung**: Zod-Schemas f√ºr Frontend und Backend
- **Drizzle ORM**: Type-safe Datenbankzugriff
- **Session-Management**: Sichere Session-Speicherung in PostgreSQL
- **Resend Integration**: Transaktionale E-Mail-Versand-Service
- **Stripe SDK**: Vollst√§ndige Integration f√ºr Zahlungen und Abonnements

## üõ†Ô∏è Tech Stack

### Frontend
- **React 19.2** mit TypeScript f√ºr type-safe UI-Entwicklung
- **Vite** als Build-Tool f√ºr schnelle Entwicklung
- **TailwindCSS** f√ºr Utility-First Styling
- **Shadcn UI** Komponenten-Bibliothek (Radix UI Primitives)
- **React Hook Form** + **Zod** f√ºr Formular-Validierung
- **TanStack Query v5** (React Query) f√ºr Server State Management
- **Wouter** f√ºr leichtgewichtiges Client-Side Routing
- **Lucide React** f√ºr moderne Icons
- **Recharts** f√ºr Dashboard-Visualisierungen
- **pdf-lib** f√ºr PDF-Generierung im Browser
- **Stripe Payment Elements** f√ºr Zahlungsabwicklung

### Backend
- **Node.js 24.4.0** mit Express f√ºr HTTP-Server
- **TypeScript** f√ºr Type Safety
- **bcrypt** f√ºr sicheres Passwort-Hashing
- **express-session** f√ºr Session-Management
- **connect-pg-simple** f√ºr PostgreSQL Session Store
- **Zod** f√ºr API-Validierung
- **Drizzle ORM** f√ºr type-safe Datenbankzugriff
- **Stripe SDK** f√ºr Zahlungsverarbeitung und Subscription-Management

### Datenspeicherung
- **Neon Serverless PostgreSQL** f√ºr produktive Datenhaltung
- **Drizzle Kit** f√ºr Schema-Management (`db:push` Workflow)
- **WebSocket Support** f√ºr Neon-Verbindungen

### Datenbank-Schema
- **users**: Benutzer-Accounts (E-Mail, Passwort-Hash, Name)
- **tenants**: Unternehmensprofile (Firmendaten, MwSt.-Satz, Plan, logoUrl, Stripe IDs)
- **clients**: Kundendaten (Firma, Kontakt, Adresse)
- **quotes**: Angebote (Nummer, Titel, Status, Betr√§ge, Daten, publicId, acceptedAt, acceptedByName, signatureData)
- **quoteItems**: Angebotspositionen (Beschreibung, Menge, Preis, optional, selected, articleId)
- **priceRules**: Wiederverwendbare Preisvorlagen
- **templates**: Textbausteine
- **emailTemplates**: E-Mail-Vorlagen (Name, Betreff, Nachricht, Kategorie)
- **emailLogs**: Versandprotokoll (Empf√§nger, Status, Zeitstempel, Fehlermeldungen)
- **suppliers**: Lieferanten (Name, Kontakt, E-Mail, Telefon, Website, Notizen)
- **categories**: Artikel-Kategorien (Name, Beschreibung)
- **articles**: Artikel-Katalog (Artikelnummer, Text, Art, Einheit, Preise, MwSt, Verkaufsstatistiken, lastSoldYear)
- **teamMembers**: Team-Mitglieder mit Rollen (Admin, Editor, Viewer)
- **teamInvitations**: Ausstehende Team-Einladungen per E-Mail
- **apiKeys**: API-Schl√ºssel f√ºr REST API (bcrypt-Hash, Usage-Tracking)
- **auditLogs**: Vollst√§ndiger √Ñnderungsverlauf f√ºr alle Entities
- **subscriptions**: Stripe-Abonnements (Plan, Status, Billing Cycle, Perioden)
- **invoices**: Stripe-Rechnungen (DEPRECATED - wird jetzt direkt von Stripe abgerufen)
- **webhookEvents**: Stripe-Webhook-Events f√ºr Audit-Trail
- **sessions**: Session-Speicher (connect-pg-simple)

## üì¶ Installation

### Voraussetzungen
- Node.js 24 oder h√∂her
- npm oder yarn
- PostgreSQL-Datenbank (z.B. Neon, Supabase, oder lokal)
- Stripe-Konto (f√ºr Zahlungen)

### Schritt 1: Repository klonen
```bash
git clone <repository-url>
cd quoteo
```

### Schritt 2: Abh√§ngigkeiten installieren
```bash
npm install
```

### Schritt 3: Datenbank einrichten

1. Erstellen Sie eine PostgreSQL-Datenbank (z.B. bei [Neon](https://neon.tech))
2. Kopieren Sie die Verbindungs-URL

### Schritt 4: Umgebungsvariablen konfigurieren

Erstellen Sie eine `.env` Datei im Root-Verzeichnis:

```env
# PostgreSQL-Datenbank (erforderlich)
DATABASE_URL=postgresql://user:password@host/database?sslmode=require

# Session Secret (√§ndern Sie dies in Produktion!)
SESSION_SECRET=your-super-secret-session-key-change-this-to-random-string

# Resend API f√ºr E-Mail-Versand (optional)
RESEND_API_KEY=re_...

# Stripe (erforderlich f√ºr Zahlungen)
VITE_STRIPE_PUBLIC_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PRICE_ID_PRO_MONTHLY=price_...
STRIPE_PRICE_ID_PRO_YEARLY=price_...
STRIPE_PRICE_ID_BUSINESS_MONTHLY=price_...
STRIPE_PRICE_ID_BUSINESS_YEARLY=price_...

# Node Environment
NODE_ENV=development
```

**Wichtig**: 
- `DATABASE_URL` ist **erforderlich** f√ºr die Datenspeicherung
- `SESSION_SECRET` sollte ein langer, zuf√§lliger String sein (min. 32 Zeichen)
- `RESEND_API_KEY` ist optional, aber f√ºr E-Mail-Versand erforderlich ([Resend.com](https://resend.com))
- Stripe-Schl√ºssel sind **erforderlich** f√ºr die Zahlungsabwicklung (siehe `STRIPE_SETUP.md`)

### Schritt 5: Stripe einrichten

Folgen Sie der detaillierten Anleitung in `STRIPE_SETUP.md`:
1. Stripe-Konto erstellen
2. Produkte und Preise erstellen
3. Price IDs notieren und in `.env` eintragen
4. API-Schl√ºssel kopieren

### Schritt 6: Datenbank-Schema initialisieren
```bash
npm run db:push
```

Dieser Befehl erstellt alle notwendigen Tabellen in Ihrer PostgreSQL-Datenbank.

### Schritt 7: Entwicklungsserver starten
```bash
npm run dev
```

Die Anwendung ist nun unter `http://localhost:5000` verf√ºgbar.

## üóÑÔ∏è Datenbank-Management

### Schema-√Ñnderungen vornehmen
1. Bearbeiten Sie `shared/schema.ts`
2. F√ºhren Sie aus: `npm run db:push`
3. Bei Warnungen: `npm run db:push --force` (in Entwicklung)

### Neue Datenbank verbinden
1. Aktualisieren Sie `DATABASE_URL` in `.env`
2. F√ºhren Sie `npm run db:push` aus
3. Starten Sie den Server neu

**Wichtig**: √Ñndern Sie niemals ID-Spaltentypen bei bestehenden Tabellen!

## üí≥ Preismodelle

| Plan | Preis | Angebote/Monat | Artikel | Features |
|------|-------|----------------|---------|----------|
| **Kostenlos** | 0‚Ç¨ | 10 | Kein Zugriff | Basis-Features |
| **Pro** | 9‚Ç¨/Monat oder 90‚Ç¨/Jahr | 100 | 25 Artikel | Logo-Upload, Custom Branding, E-Mail-Vorlagen, Preis-Regeln, Artikelverwaltung |
| **Business** | 29‚Ç¨/Monat/Nutzer oder 290‚Ç¨/Jahr/Nutzer (min. 3 Nutzer) | Unbegrenzt | Unbegrenzt | Team-Management, Audit-Logs, REST API, Premium-Support, Unbegrenzte Artikel |

**Vollst√§ndig implementiert:** Alle Pl√§ne k√∂nnen √ºber Stripe gebucht und verwaltet werden.

## üß™ Testing

Die Anwendung wurde mit End-to-End-Tests (Playwright) getestet:

‚úÖ Registrierung ‚Üí Onboarding ‚Üí Dashboard  
‚úÖ Kunden-Erstellung  
‚úÖ Angebots-Erstellung mit Positionen  
‚úÖ PDF-Generierung (Multi-Page, Text-Wrapping, Logo-Integration)  
‚úÖ Dashboard-Statistiken mit Echtzeit-Updates  
‚úÖ Deutsche W√§hrungsformatierung  
‚úÖ E-Mail-Versand mit PDF-Anhang und Variablen-Ersetzung  
‚úÖ E-Mail-Vorlagen-Verwaltung  
‚úÖ Versandprotokoll mit Status-Tracking  
‚úÖ Logo-Upload und PDF-Integration  
‚úÖ Angebots-Duplikation  
‚úÖ Angebots-L√∂schung mit GoBD-Dialog  
‚úÖ CSV-Export  
‚úÖ Erweiterte Filterung (Status, Kunde, Datum)  
‚úÖ Team Management (Rollen, Einladungen, RBAC)  
‚úÖ Audit Logs (Vollst√§ndiger √Ñnderungsverlauf)  
‚úÖ REST API v1 (API Key Auth, Business Plan)  
‚úÖ Brand Identity (Logo, Farbpalette, Akshar-Font)  
‚úÖ **Stripe Payment Flow** (Checkout, Subscription, Cancellation, Invoices)  
‚úÖ **Plan-Aktivierung** (Sofortige Aktivierung nach Zahlung)  
‚úÖ **Abonnement-Verwaltung** (Cancel, Reactivate, Upgrade)  
‚úÖ **Online-Angebotsgenehmigung** (√ñffentliche Links, Digitale Signatur, Signierte PDFs)  
‚úÖ **Optionale Positionen** (Kunden-Auswahl mit Live-Preisberechnung)  
‚úÖ **Artikelverwaltung** (Katalog, Lieferanten, Kategorien, Verkaufsstatistiken)  
‚úÖ **Quote-Editor Integration** (Artikel-Picker Dialog, Automatisches Mapping)  

## üöÄ Deployment

### Vorbereitung
1. **Produktions-Datenbank** einrichten (Neon, Supabase, etc.)
2. **Umgebungsvariablen** in Produktionsumgebung setzen
3. **Database Schema** deployen: `npm run db:push`
4. **Stripe Live-Modus** konfigurieren (siehe `STRIPE_SETUP.md`)

### Umgebungsvariablen (Produktion)
```env
DATABASE_URL=postgresql://...
SESSION_SECRET=your-production-secret-min-32-chars
NODE_ENV=production
RESEND_API_KEY=re_...                       # Optional (f√ºr E-Mail-Versand)
VITE_STRIPE_PUBLIC_KEY=pk_live_...          # Erforderlich f√ºr Zahlungen
STRIPE_SECRET_KEY=sk_live_...               # Erforderlich f√ºr Zahlungen
STRIPE_PRICE_ID_PRO_MONTHLY=price_live_...
STRIPE_PRICE_ID_PRO_YEARLY=price_live_...
STRIPE_PRICE_ID_BUSINESS_MONTHLY=price_live_...
STRIPE_PRICE_ID_BUSINESS_YEARLY=price_live_...
```

### Build & Start
```bash
# Frontend + Backend bauen
npm run build

# Produktion starten
npm start
```

### Deployment auf Replit
Die Anwendung ist f√ºr Replit optimiert:
- Automatische Workflow-Konfiguration
- Environment Secrets Management
- Neon PostgreSQL Integration
- Stripe Integration vorkonfiguriert
- Ein-Klick Deployment m√∂glich

## üìä API-Endpunkte

### Stripe-Endpunkte
- `POST /api/stripe/create-payment-intent` - Stripe-Subscription und Payment Intent erstellen
- `POST /api/stripe/confirm-payment` - Zahlung best√§tigen und Subscription aktivieren
- `GET /api/stripe/subscription` - Aktuelle Subscription abrufen
- `POST /api/stripe/cancel-subscription` - Subscription k√ºndigen (am Periodenende)
- `POST /api/stripe/reactivate-subscription` - Gek√ºndigte Subscription reaktivieren
- `GET /api/stripe/invoices` - Alle Rechnungen von Stripe abrufen

### √ñffentliche Endpunkte (ohne Authentifizierung)
- `GET /api/public/quotes/:publicId` - √ñffentliches Angebot abrufen
- `POST /api/public/quotes/:publicId/accept` - Angebot mit digitaler Signatur annehmen

### Artikelverwaltungs-Endpunkte
- `GET /api/v1/articles` - Alle Artikel abrufen
- `GET /api/v1/articles/:id` - Einzelnen Artikel abrufen
- `POST /api/v1/articles` - Neuen Artikel erstellen
- `PATCH /api/v1/articles/:id` - Artikel aktualisieren
- `DELETE /api/v1/articles/:id` - Artikel l√∂schen
- `GET /api/v1/suppliers` - Alle Lieferanten abrufen
- `GET /api/v1/categories` - Alle Kategorien abrufen

### Weitere Endpunkte
Siehe vollst√§ndige API-Dokumentation in `API_DOCUMENTATION.md`

## üéØ Entwicklungs-Status

### Fertigstellungsgrad: ~100% ‚úÖ

#### ‚úÖ Vollst√§ndig implementiert
- Authentifizierung & Onboarding
- Kundenverwaltung (CRUD)
- Angebotserstellung & -verwaltung
- PDF-Generierung (Multi-Page, Deutsche Formatierung, Logo-Integration)
- Dashboard mit Echtzeit-Statistiken
- Preisregeln & Textvorlagen (Backend + UI)
- E-Mail-Versand mit PDF-Anhang
- E-Mail-Vorlagen mit Variablen-Ersetzung
- Versandprotokoll
- Logo-Upload und PDF-Integration
- Angebots-Duplikation und -L√∂schung
- CSV-Export und erweiterte Filterung
- Team Management (Admin/Editor/Viewer)
- Audit Logs
- REST API v1 mit API Key Authentication
- Brand Identity (Akshar-Font, Teal-Farbpalette)
- **Stripe-Integration** (Embedded Checkout, Subscription Management, Invoices)
- **Vollst√§ndiger Zahlungsflow** (Plan-Auswahl ‚Üí Checkout ‚Üí Aktivierung)
- **Abonnementverwaltung** (Cancel, Reactivate, Upgrade/Downgrade)
- **Rechnungsverwaltung** (Zugriff auf alle Stripe-Rechnungen mit PDF-Download)
- **Online-Angebotsgenehmigung** (√ñffentliche Links, Digitale Signatur, Signierte PDFs)
- **Optionale Angebotspositionen** (Kunden-Auswahl mit Live-Preisberechnung)
- **Artikelverwaltung** (Katalog, Lieferanten, Kategorien, Verkaufsstatistiken, Quote-Editor Integration)

## üìÑ Lizenz

Propriet√§re Software - Alle Rechte vorbehalten

## ü§ù Support

Bei Fragen oder Problemen:
- Dokumentation: Siehe alle `.md` Dateien im Repository
- Stripe-Setup: `STRIPE_SETUP.md`
- API-Dokumentation: `API_DOCUMENTATION.md`
- Design-Guidelines: `design_guidelines.md`
